import{j as e,B as P,a as b}from"./index-B7P5vAGY.js";import{C as B,u as A,a as M,L as O,S as $}from"./ClueGameLayout-BaxFAdaP.js";import{G as H}from"./GameControls-BQBFZCzS.js";import{u as K}from"./useGameController-B_pCOxaT.js";import"./GameLayout-DG0rwQPu.js";import"./Notification-b6MG98Wk.js";import"./GameButton-CpcbWHNt.js";import"./circle-check-big-CoGvdlem.js";class F extends B{getGameId(){return"phrase-clue"}getModulePath(r,s,t){return`/src/data/${r}/phrase-clue/${s}/${t}.json`}validateLevel(r,s){const t=r;return t&&typeof t=="object"&&"id"in t&&"clue"in t&&"solution"in t?{id:String(t.id),clue:String(t.clue),solution:String(t.solution),difficulty:s??"easy"}:null}getErrorLevel(){return{id:"error-level",difficulty:"easy",clue:"Could not load levels for the selected categories.",solution:"ERROR"}}isKidsMode(){return!1}}const W=new F;function q(){const l=K({engine:W,gameId:"phraseClue"});return A(l,{getPoints:r=>{switch(r.difficulty){case"hard":return 30;case"medium":return 20;default:return 10}}})}const Y=()=>{const{loading:l,currentLevel:r,solution:s,notification:t,wrongAnswers:c,gameState:o,currentLevelIndex:i,levels:d,onCheck:m,onShow:h,onLetterClick:f,onRemove:x,onClear:v,onHint:g,nextLevel:p,prevLevel:C,handleBack:u,resetLevel:j,canRemove:S,canClear:w,canCheck:L,canHint:y,gameMode:G,t:n,instructions:R}=q();if(l)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("p",{children:[n.loading,"..."]})});if(!r||r.solution==="ERROR")return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:n.noLevelsFound}),e.jsx(P,{onClick:u,children:n.back})]});const{answerSlots:k,slotIndices:N,hintIndices:E}=o;return e.jsx(M,{title:r.clue,levelIndex:i,onBack:u,difficulty:r.difficulty,instructions:R,notification:t,promptContent:null,solutionContent:e.jsx($,{solution:s,currentWord:k.join("")}),letterOptionsContent:e.jsx(O,{letters:o.letters,selectedIndices:N.filter(a=>a!==null),onLetterClick:f,disabled:o.gameState!=="playing",hintIndices:E}),wrongAnswersContent:c.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[n.wrongAttempts,":"]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:c.map((a,I)=>e.jsx(b,{variant:"destructive",children:a},I))})]}),gameControlsContent:e.jsx(H,{onRemoveLetter:x,onClearAnswer:v,onCheckAnswer:m,onHint:g,onShowSolution:h,onReset:j,onPrevLevel:C,onNextLevel:p,canRemove:S,canClear:w,canCheck:L,canHint:y,canPrev:i>0,canNext:i<d.length-1,gameState:o.gameState,gameMode:G,isKidsMode:!1,labels:{remove:n.remove,clear:n.clear,check:n.check,hint:n.hint,showSolution:n.showSolution,reset:n.reset,prev:n.prev,next:n.next}})})};export{Y as default};
