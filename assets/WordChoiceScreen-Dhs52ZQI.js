import{h as x,_ as e,u as I,b as R,r as d,c as P,j as o,B as A,f as b,A as w,e as V}from"./index-CN5lWD5F.js";import{s as O,u as D,G as C,N as k}from"./Notification-lmh7io55.js";import{V as S}from"./volume-2-CJUkV8Wo.js";import{C as N}from"./circle-check-big-DeCOWU1k.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$=x("circle-x",G);class W{async loadLevels(y){const{language:p,categories:u}=y,s=["animals","fruits","shapes"],r=(u.includes("general")?s:u).map(async _=>{try{const n=`/src/data/${p}/word-choice/${_}/data.json`,c=Object.assign({"/src/data/ar/clue/animals/ar-clue-animals-easy.json":()=>e(()=>import("./ar-clue-animals-easy-B_GJKLA_.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-hard.json":()=>e(()=>import("./ar-clue-animals-hard-7EfMbXs4.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-medium.json":()=>e(()=>import("./ar-clue-animals-medium-Bcn1oCUk.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-words.json":()=>e(()=>import("./ar-clue-animals-words-DxH5pZeF.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-easy.json":()=>e(()=>import("./ar-clue-geography-easy-B_kcdeCx.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-hard.json":()=>e(()=>import("./ar-clue-geography-hard-BCuCMNGp.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-medium.json":()=>e(()=>import("./ar-clue-geography-medium-CkoNY3Du.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-words.json":()=>e(()=>import("./ar-clue-geography-words-C7oqRjv9.js"),[]),"/src/data/ar/clue/science/ar-clue-science-easy.json":()=>e(()=>import("./ar-clue-science-easy-f07zg_lU.js"),[]),"/src/data/ar/clue/science/ar-clue-science-hard.json":()=>e(()=>import("./ar-clue-science-hard-CV32qLEY.js"),[]),"/src/data/ar/clue/science/ar-clue-science-medium.json":()=>e(()=>import("./ar-clue-science-medium-BtIrOjNp.js"),[]),"/src/data/ar/clue/science/ar-clue-science-words.json":()=>e(()=>import("./ar-clue-science-words-DpIQpR0-.js"),[]),"/src/data/ar/formation/ar-formation-easy.json":()=>e(()=>import("./ar-formation-easy-CuHzQLY1.js"),[]),"/src/data/ar/formation/ar-formation-hard.json":()=>e(()=>import("./ar-formation-hard-CRxFgu7h.js"),[]),"/src/data/ar/image-clue/animals/data.json":()=>e(()=>import("./data-USJTiWy0.js"),[]),"/src/data/ar/image-clue/fruits/data.json":()=>e(()=>import("./data-CenmuYLK.js"),[]),"/src/data/ar/image-clue/shapes/data.json":()=>e(()=>import("./data-B126H-NP.js"),[]),"/src/data/ar/letter-flow/ar-flow-easy.json":()=>e(()=>import("./ar-flow-easy-C68xgLTr.js"),[]),"/src/data/ar/letter-flow/ar-flow-medium.json":()=>e(()=>import("./ar-flow-medium-BL27Zp8Y.js"),[]),"/src/data/ar/word-choice/animals/data.json":()=>e(()=>import("./data-Bij5nysW.js"),[]),"/src/data/en/clue/animals/en-clue-animals-easy.json":()=>e(()=>import("./en-clue-animals-easy-vc2CgBiI.js"),[]),"/src/data/en/clue/animals/en-clue-animals-hard.json":()=>e(()=>import("./en-clue-animals-hard-BmQiyFGH.js"),[]),"/src/data/en/clue/animals/en-clue-animals-medium.json":()=>e(()=>import("./en-clue-animals-medium-CDppU-oU.js"),[]),"/src/data/en/clue/animals/en-clue-animals-words.json":()=>e(()=>import("./en-clue-animals-words-OyMRQ2OB.js"),[]),"/src/data/en/clue/geography/en-clue-geography-easy.json":()=>e(()=>import("./en-clue-geography-easy-v49lXgS1.js"),[]),"/src/data/en/clue/geography/en-clue-geography-hard.json":()=>e(()=>import("./en-clue-geography-hard-Hc9ZYG1D.js"),[]),"/src/data/en/clue/geography/en-clue-geography-medium.json":()=>e(()=>import("./en-clue-geography-medium-Yt4_5ZKV.js"),[]),"/src/data/en/clue/geography/en-clue-geography-words.json":()=>e(()=>import("./en-clue-geography-words-BJFrdNPX.js"),[]),"/src/data/en/clue/science/en-clue-science-easy.json":()=>e(()=>import("./en-clue-science-easy-CXDUIzZm.js"),[]),"/src/data/en/clue/science/en-clue-science-hard.json":()=>e(()=>import("./en-clue-science-hard-Dqcig8Ht.js"),[]),"/src/data/en/clue/science/en-clue-science-medium.json":()=>e(()=>import("./en-clue-science-medium-Dm_81XWt.js"),[]),"/src/data/en/clue/science/en-clue-science-words.json":()=>e(()=>import("./en-clue-science-words-BdiwMlAj.js"),[]),"/src/data/en/formation/en-formation-easy.json":()=>e(()=>import("./en-formation-easy-CqPS8TrH.js"),[]),"/src/data/en/image-clue/animals/data.json":()=>e(()=>import("./data-BYo_61tt.js"),[]),"/src/data/en/image-clue/fruits/data.json":()=>e(()=>import("./data-OxJ4m8-5.js"),[]),"/src/data/en/image-clue/shapes/data.json":()=>e(()=>import("./data-Bu1Ld6Qx.js"),[]),"/src/data/en/letter-flow/en-flow-easy.json":()=>e(()=>import("./en-flow-easy-DqbTaQjR.js"),[]),"/src/data/en/word-choice/animals/data.json":()=>e(()=>import("./data-BDxquZu-.js"),[])})[n];return c?((await c()).default?.levels||[]).map(a=>{if(typeof a=="object"&&a!==null&&"id"in a&&"image"in a&&"sound"in a&&"solution"in a&&"options"in a&&Array.isArray(a.options)){const f=new Set(a.options);return f.add(a.solution),{id:String(a.id),image:String(a.image),sound:String(a.sound),solution:String(a.solution),options:Array.from(f)}}return null}).filter(a=>a!==null):(console.warn(`Module not found for path: ${n}`),[])}catch(n){return console.error(`WordChoiceGameEngine: Failed to load levels for ${p}/${_}.`,n),[]}}),E=(await Promise.all(r)).flat();return E.length===0?[{id:"error-level",image:"/assets/images/error.png",sound:"",solution:"ERROR",options:["Error","Loading","Failed"]}]:O(E)}}const B=new W;function z(){const t=I(),{language:y,categories:p,gameMode:u,gameType:s}=R(),{loading:L,currentLevel:r,nextLevel:h}=D(B,{language:y,categories:p}),[E,_]=d.useState([]),[n,j]=d.useState(null),[c,i]=d.useState("idle"),v=d.useRef(null),a=l=>`${"/PowerLetter-for-Puzzles/".replace(/\/$/,"")}/${l.replace(/^\//,"")}`,f=d.useCallback(()=>{v.current?.play().catch(l=>console.error("Audio play failed:",l))},[]),m=d.useCallback(l=>{r&&c!=="correct"&&(j(l),l===r.solution?(i("correct"),setTimeout(()=>{h()},1200)):(i("incorrect"),setTimeout(()=>i("idle"),1200)))},[c,r,h]),g=d.useCallback(()=>{t(u==="competitive"?`/team-config/${s}`:"/kids-games")},[t,u,s]);return d.useEffect(()=>{r&&(_(O([...r.options])),i("idle"),j(null))},[r]),{loading:L,currentLevel:r,shuffledOptions:E,answerStatus:c,selectedOption:n,audioRef:v,getAssetPath:a,playSound:f,handleOptionClick:m,nextLevel:h,handleBack:g}}const M={title:"Word Choice Game",description:"Select the correct word that matches the image and sound prompt. Test your vocabulary and observation skills!",steps:["Look at the image displayed on the screen","Press the sound button to hear the word pronounced","Read the word options provided","Click on the word that matches both the image and sound","If you choose correctly, you'll see a success message and move to the next level","If you choose incorrectly, you'll get feedback and can try again","Complete as many levels as you can!"]},F={title:"لعبة اختيار الكلمة",description:"اختر الكلمة الصحيحة التي تتطابق مع الصورة والصوت. اختبر مفرداتك ومهاراتك الملاحظة!",steps:["انظر إلى الصورة المعروضة على الشاشة","اضغط على زر الصوت لسماع نطق الكلمة","اقرأ خيارات الكلمات المعروضة","انقر على الكلمة التي تتطابق مع الصورة والصوت معًا","إذا اخترت بشكل صحيح، سترى رسالة نجاح وتنتقل إلى المرحلة التالية","إذا اخترت بشكل غير صحيح، ستحصل على ملاحظات ويمكنك المحاولة مرة أخرى","أكمل أكبر عدد ممكن من المراحل!"]};function T(t){return typeof t=="string"&&t.toLowerCase().startsWith("ar")?F:M}T();const J=()=>{const{t,dir:y}=P(),{language:p}=R(),{loading:u,currentLevel:s,shuffledOptions:L,answerStatus:r,selectedOption:h,audioRef:E,getAssetPath:_,playSound:n,handleOptionClick:j,nextLevel:c,handleBack:i}=z();if(u)return o.jsx("div",{className:"flex justify-center items-center h-screen",children:o.jsxs("p",{children:[t.loading,"..."]})});if(!s||s.solution==="ERROR")return o.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[o.jsx("p",{className:"text-xl font-semibold",children:t.noLevelsFound}),o.jsx(A,{onClick:i,children:t.back})]});const v=r!=="idle",a=r==="correct"?t.congrats??"Correct!":r==="incorrect"?t.wrongAnswer??"Wrong! Try again":"",f=r==="correct"?"success":"error";return o.jsxs(C,{title:t.wordChoiceTitle,levelIndex:0,onBack:i,layoutType:"image",instructions:T(p),children:[v&&o.jsx(k,{message:a,type:f,duration:1e3}),o.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[o.jsx("img",{src:_(s.image),alt:"Guess the word",className:"max-h-full max-w-full object-contain"}),o.jsx(A,{size:"icon",onClick:n,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70",children:o.jsx(S,{className:"h-6 w-6 text-white"})}),o.jsx("audio",{ref:E,src:_(s.sound),preload:"auto"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 max-[200px]:grid-cols-1 gap-3 pt-4",children:L.map(m=>{const g=h===m,l=m===s.solution;return o.jsxs(A,{onClick:()=>j(m),disabled:r==="correct",className:b("text-base h-16 flex items-center justify-center gap-2 transition-all duration-300",g&&r==="correct"&&"bg-green-500 hover:bg-green-600 border-2 border-green-700",g&&r==="incorrect"&&"bg-red-500 hover:bg-red-500 border-2 border-red-700",!g&&r==="incorrect"&&l&&"bg-green-200 text-green-800 border-2 border-green-400",r==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[m,g&&r==="correct"&&o.jsx(N,{}),g&&r==="incorrect"&&o.jsx($,{})]},m)})}),r==="correct"&&o.jsx("div",{className:"pt-4",children:o.jsxs(A,{onClick:c,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[t.next," ",y==="rtl"?o.jsx(w,{className:"ml-2"}):o.jsx(V,{className:"ml-2"})]})})]})};export{J as default};
