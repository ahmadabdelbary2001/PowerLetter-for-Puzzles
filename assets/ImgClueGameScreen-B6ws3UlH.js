import{j as e,B as i,A as P,b as O,a as K}from"./index-BDuDnl7r.js";import{C as T,u as V,a as $,L as z,S as F}from"./ClueGameLayout-B2nplrPr.js";import{G as W}from"./GameControls-CqM9WukK.js";import{u as q}from"./GameLayout-Ba_o99v5.js";import{V as D}from"./volume-2-BAXsZef1.js";import"./GameButton-CQlXoVRE.js";class H extends T{getGameId(){return"img-clue"}getModulePath(s,t){return`/src/data/${s}/img-clue/${t}/data.json`}validateLevel(s){const t=s;return t&&typeof t=="object"&&"id"in t&&"image"in t&&"sound"in t&&"solution"in t?{id:String(t.id),image:String(t.image),sound:String(t.sound),solution:String(t.solution)}:null}getErrorLevel(){return{id:"error-level",image:"/assets/images/error.png",sound:"",solution:"ERROR"}}isKidsMode(){return!0}}const J=new H;function Q(){const o=q({engine:J,gameId:"imgClue"});return V(o)}const te=()=>{const{loading:o,currentLevel:s,solution:t,notification:x,onClearNotification:v,wrongAnswers:c,gameState:r,currentLevelIndex:l,levels:h,audioRef:f,getAssetPath:m,playSound:p,onCheck:j,onLetterClick:C,onRemove:w,onClear:b,nextLevel:u,prevLevel:L,handleBack:d,resetLevel:N,canRemove:S,canClear:k,canCheck:y,gameMode:g,t:n,i18n:R,instructions:G}=Q(),I=R.dir();if(o)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("p",{children:[n("loading"),"..."]})});if(!s||s.solution==="ERROR")return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:n("noLevelsFound")}),e.jsx(i,{onClick:d,children:n("back")})]});const{answerSlots:A,slotIndices:E,hintIndices:B}=r;return e.jsx($,{title:n("imgClueTitle",{ns:"games"}),levelIndex:l,onBack:d,instructions:G,notification:x,onClearNotification:v,layoutType:"image",promptContent:e.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[e.jsx("img",{src:m(s.image),alt:t,className:"max-h-full max-w-full object-contain"}),e.jsx(i,{size:"icon",onClick:p,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70",children:e.jsx(D,{className:"h-6 w-6 text-white"})}),e.jsx("audio",{ref:f,src:m(s.sound),preload:"auto"})]}),solutionContent:e.jsx(F,{solution:t,currentWord:A.join("")}),letterOptionsContent:e.jsx(z,{letters:r.letters,selectedIndices:E.filter(a=>a!==null),onLetterClick:C,disabled:r.gameState!=="playing",hintIndices:B}),wrongAnswersContent:c.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[n("wrongAttempts"),":"]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:c.map((a,M)=>e.jsx(K,{variant:"destructive",children:a},M))})]}),gameControlsContent:r.gameState==="won"&&g!=="competitive"?e.jsxs(i,{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[n("next")," ",I==="rtl"?e.jsx(P,{className:"ml-2"}):e.jsx(O,{className:"ml-2"})]}):e.jsx(W,{onRemoveLetter:w,onClearAnswer:b,onCheckAnswer:j,onReset:N,onPrevLevel:L,onNextLevel:u,canRemove:S,canClear:k,canCheck:y,canPrev:l>0,canNext:l<h.length-1,gameState:r.gameState,gameMode:g,isKidsMode:!0,labels:{remove:n("remove"),clear:n("clear"),check:n("check"),hint:n("hint"),showSolution:n("showSolution"),reset:n("reset"),prev:n("prev"),next:n("next")}})})};export{te as default};
