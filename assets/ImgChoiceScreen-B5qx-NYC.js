import{u as w,j as e,B as c,A as y,b as k,c as I}from"./index-CjyIWeEv.js";import{u as G}from"./useGameController-uUQ6w7IN.js";import{C as T,u as B,M as R,a as A}from"./MultipleChoiceLayout-McHzfvJN.js";import{u as E}from"./Notification-BQeTBVRQ.js";import{C as L}from"./circle-check-big-DcPuji49.js";import{V as S}from"./volume-2-CYh-GS9S.js";import"./GameLayout-B--m7vcf.js";class M extends T{getGameId(){return"img-choice"}}const O=new M;function F(){const t=G({engine:O});return B(t)}const J=()=>{const{t,i18n:d}=w(),u=d.dir(),i=E("ImgChoice"),m=i?{title:i.title??"",description:i.description??"",steps:i.steps??[]}:void 0,{loading:g,currentLevel:n,shuffledOptions:x,answerStatus:s,selectedOption:f,audioRef:h,getAssetPath:l,playSound:p,handleOptionClick:j,nextLevel:C,handleBack:a}=F();if(g)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("p",{children:[t.loading,"..."]})});if(!n||n.solution==="ERROR")return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:t.noLevelsFound}),e.jsx(c,{onClick:a,children:t.back})]});const b=s==="correct"?t.congrats??"Correct!":s==="incorrect"?t.wrongAnswer??"Wrong! Try again":null,v=s==="correct"?"success":"error";return e.jsx(R,{title:t.ImgChoiceTitle??t.findThePictureTitle??"Find the Image",levelIndex:0,onBack:a,instructions:m,notificationMessage:b,notificationType:v,promptContent:e.jsxs("div",{className:"relative bg-card rounded-lg p-6 flex items-center justify-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:n.word}),n.sound&&e.jsxs(e.Fragment,{children:[e.jsx(c,{size:"icon",onClick:p,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70","aria-label":t.playSound??"Play sound",children:e.jsx(S,{className:"h-6 w-6 text-white","aria-hidden":!0})}),e.jsx("audio",{ref:h,src:l(n.sound),preload:"auto"})]})]}),optionsContent:x.map(r=>{const o=f===r,N=r===n.solution;return e.jsxs(c,{onClick:()=>j(r),disabled:s==="correct",className:I("text-base h-36 flex items-center justify-center gap-2 transition-all duration-300 overflow-hidden p-0",o&&s==="correct"&&"ring-4 ring-green-500",o&&s==="incorrect"&&"ring-4 ring-red-500",!o&&s==="incorrect"&&N&&"bg-green-200 text-green-800 ring-2 ring-green-400",s==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[e.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:e.jsx("img",{src:l(r),alt:"",className:"max-h-full max-w-full object-contain"})}),o&&s==="correct"&&e.jsx(L,{className:"absolute top-2 right-2 text-green-600"}),o&&s==="incorrect"&&e.jsx(A,{className:"absolute top-2 right-2 text-red-600"})]},r)}),nextButtonContent:s==="correct"&&e.jsxs(c,{onClick:C,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[t.next," ",u==="rtl"?e.jsx(y,{className:"ml-2"}):e.jsx(k,{className:"ml-2"})]})})};export{J as default};
