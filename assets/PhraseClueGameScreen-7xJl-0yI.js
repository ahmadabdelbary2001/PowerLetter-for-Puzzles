import{u as A,a as $,b as f,r as p,c as T,j as n,B as O,d as z}from"./index-B4fPtU2R.js";import{C as H,u as K,a as D,L as F,S as W}from"./ClueGameLayout-DmGQ-YEt.js";import{G as q}from"./GameControls-B4hR6-Xg.js";import{u as J}from"./Notification-7_OZ9wn8.js";import"./GameLayout-D84wNv_h.js";import"./GameButton-p4dt7Yua.js";import"./circle-check-big-BJBHKpeN.js";class Q extends H{getGameId(){return"phrase-clue"}getModulePath(s,o,t){return`/src/data/${s}/phrase-clue/${o}/${t}.json`}validateLevel(s,o){const t=s;return t&&typeof t=="object"&&"id"in t&&"clue"in t&&"solution"in t?{id:String(t.id),clue:String(t.clue),solution:String(t.solution),difficulty:o??"easy"}:null}getErrorLevel(){return{id:"error-level",difficulty:"easy",clue:"Could not load levels for the selected categories.",solution:"ERROR"}}isKidsMode(){return!1}}const U=new Q;function V(){const e=A(),s=$(),{language:o,categories:t,difficulty:r,gameMode:l}=f(),c=p.useCallback(a=>{switch(a.difficulty){case"hard":return 30;case"medium":return 20;default:return 10}},[]),u=K({engine:U,language:o,categories:t,difficulty:r,getPoints:c}),i=p.useCallback(()=>{e(l==="competitive"?`/team-config/${s.gameType}`:`/game-mode/${s.gameType}`)},[e,s.gameType,l]);return{...u,handleBack:i}}const se=()=>{const{t:e}=T(),s=J("phraseClue"),{gameMode:o}=f(),{loading:t,currentLevel:r,solution:l,letters:c,notification:u,wrongAnswers:i,gameState:a,currentLevelIndex:d,levels:h,onCheck:v,onShow:x,onLetterClick:C,onRemove:j,onClear:y,onHint:S,nextLevel:w,prevLevel:L,handleBack:g,resetLevel:k,canRemove:G,canClear:R,canCheck:b,canHint:N}=V();if(t)return n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsxs("p",{children:[e.loading,"..."]})});if(!r||r.solution==="ERROR")return n.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[n.jsx("p",{className:"text-xl font-semibold",children:e.noLevelsFound}),n.jsx(O,{onClick:g,children:e.back})]});const E=s?{title:s.title,description:s.description??"",steps:s.steps??[]}:void 0,{answerSlots:P,slotIndices:B,hintIndices:I}=a;return n.jsx(D,{title:r.clue,levelIndex:d,onBack:g,difficulty:r.difficulty,instructions:E,notification:u,promptContent:null,solutionContent:n.jsx(W,{solution:l,currentWord:P.join("")}),letterOptionsContent:n.jsx(F,{letters:c,selectedIndices:B.filter(m=>m!==null),onLetterClick:C,disabled:a.gameState!=="playing",hintIndices:I}),wrongAnswersContent:i.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[e.wrongAttempts,":"]}),n.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:i.map((m,M)=>n.jsx(z,{variant:"destructive",children:m},M))})]}),gameControlsContent:n.jsx(q,{onRemoveLetter:j,onClearAnswer:y,onCheckAnswer:v,onHint:S,onShowSolution:x,onReset:k,onPrevLevel:L,onNextLevel:w,canRemove:G,canClear:R,canCheck:b,canHint:N,canPrev:d>0,canNext:d<h.length-1,gameState:a.gameState,gameMode:o,isKidsMode:!1,labels:{remove:e.remove,clear:e.clear,check:e.check,hint:e.hint,showSolution:e.showSolution,reset:e.reset,prev:e.prev,next:e.next}})})};export{se as default};
