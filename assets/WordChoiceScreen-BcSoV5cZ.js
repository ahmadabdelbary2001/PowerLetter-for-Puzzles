import{u as y,j as e,B as i,A as k,b as N,c as G}from"./index-NsiPlYDC.js";import{u as B}from"./useGameController-CmXV0Pe_.js";import{C as R,u as S,M as A,a as E}from"./MultipleChoiceLayout-C1W5TPL_.js";import{u as L}from"./Notification-DXF8BR5t.js";import{C as T}from"./circle-check-big-B-iOLrcZ.js";import{V as W}from"./volume-2-DO2K45Ec.js";import"./GameLayout-VUn-r-tL.js";class I extends R{getGameId(){return"word-choice"}}const M=new I;function O(){const r=B({engine:M});return S(r)}const H=()=>{const{t:r,i18n:d}=y(),u=d.dir(),c=L("wordChoice"),g=c?{title:c.title??"",description:c.description??"",steps:c.steps??[]}:void 0,{loading:m,currentLevel:s,shuffledOptions:h,answerStatus:t,selectedOption:x,audioRef:f,getAssetPath:a,playSound:p,handleOptionClick:b,nextLevel:C,handleBack:l}=O();if(m)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("p",{children:[r.loading,"..."]})});if(!s||s.solution==="ERROR")return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:r.noLevelsFound}),e.jsx(i,{onClick:l,children:r.back})]});const j=t==="correct"?r.congrats??"Correct!":t==="incorrect"?r.wrongAnswer??"Wrong! Try again":null,w=t==="correct"?"success":"error";return e.jsx(A,{title:r.wordChoiceTitle??"Word Choice",levelIndex:0,onBack:l,instructions:g,notificationMessage:j,notificationType:w,promptContent:e.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[e.jsx("img",{src:a(s.image),alt:"Guess the word",className:"max-h-full max-w-full object-contain"}),e.jsx(i,{size:"icon",onClick:p,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70","aria-label":r.playSound??"Play sound",children:e.jsx(W,{className:"h-6 w-6 text-white","aria-hidden":!0})}),e.jsx("audio",{ref:f,src:a(s.sound),preload:"auto"})]}),optionsContent:h.map(o=>{const n=x===o,v=o===s.solution;return e.jsxs(i,{onClick:()=>b(o),disabled:t==="correct",className:G("text-base h-16 flex items-center justify-center gap-2 transition-all duration-300",n&&t==="correct"&&"bg-green-500 hover:bg-green-600 border-2 border-green-700",n&&t==="incorrect"&&"bg-red-500 hover:bg-red-500 border-2 border-red-700",!n&&t==="incorrect"&&v&&"bg-green-200 text-green-800 border-2 border-green-400",t==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[o,n&&t==="correct"&&e.jsx(T,{}),n&&t==="incorrect"&&e.jsx(E,{})]},o)}),nextButtonContent:t==="correct"&&e.jsxs(i,{onClick:C,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[r.next," ",u==="rtl"?e.jsx(k,{className:"ml-2"}):e.jsx(N,{className:"ml-2"})]})})};export{H as default};
