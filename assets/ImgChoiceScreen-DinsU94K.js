import{_ as e,c as P,j as t,B as h,A as x,e as b,f as w}from"./index-D_RCuTDe.js";import{u as C,M as N,C as S}from"./MultipleChoiceLayout-BPmPSOJw.js";import{s as k,u as $}from"./Notification-CMDvgHhj.js";import{C as G}from"./circle-check-big-XQ63CzCy.js";import{V as B}from"./volume-2-NdAPLym1.js";import"./GameLayout-D2-LO-Eo.js";class F{async loadLevels(g){const{language:c,categories:_}=g,j=["animals","fruits-and-vegetables","shapes"],v=_.includes("general")?j:_,i=Object.assign({"/src/data/ar/formation/easy.json":()=>e(()=>import("./easy-CuHzQLY1.js"),[]),"/src/data/ar/formation/hard.json":()=>e(()=>import("./hard-DzMXngiv.js"),[]),"/src/data/ar/image-clue/animals/data.json":()=>e(()=>import("./data-USJTiWy0.js"),[]),"/src/data/ar/image-clue/fruits-and-vegetables/data.json":()=>e(()=>import("./data-DlhJ3pZw.js"),[]),"/src/data/ar/image-clue/shapes/data.json":()=>e(()=>import("./data-B126H-NP.js"),[]),"/src/data/ar/letter-flow/easy.json":()=>e(()=>import("./easy-C68xgLTr.js"),[]),"/src/data/ar/letter-flow/medium.json":()=>e(()=>import("./medium-DnN41iEv.js"),[]),"/src/data/ar/outside-the-story/animals.json":()=>e(()=>import("./animals-BD_uC3F6.js"),[]),"/src/data/ar/outside-the-story/anime.json":()=>e(()=>import("./anime-X9XTb-jh.js"),[]),"/src/data/ar/outside-the-story/cars.json":()=>e(()=>import("./cars-LFoQ5kcr.js"),[]),"/src/data/ar/outside-the-story/cartoons.json":()=>e(()=>import("./cartoons-9ln4fVtF.js"),[]),"/src/data/ar/outside-the-story/characters.json":()=>e(()=>import("./characters-BClrgWDD.js"),[]),"/src/data/ar/outside-the-story/clothes.json":()=>e(()=>import("./clothes-DZukcyjc.js"),[]),"/src/data/ar/outside-the-story/drinks.json":()=>e(()=>import("./drinks-DWTisQdZ.js"),[]),"/src/data/ar/outside-the-story/foods.json":()=>e(()=>import("./foods-BPEl4jwc.js"),[]),"/src/data/ar/outside-the-story/football.json":()=>e(()=>import("./football-BkDTW0je.js"),[]),"/src/data/ar/outside-the-story/fruits-and-vegetables.json":()=>e(()=>import("./fruits-and-vegetables-CWZ59ral.js"),[]),"/src/data/ar/outside-the-story/gamers.json":()=>e(()=>import("./gamers-DU27ka0Y.js"),[]),"/src/data/ar/outside-the-story/geography.json":()=>e(()=>import("./geography-Bmt1Mp9F.js"),[]),"/src/data/ar/outside-the-story/k-pop.json":()=>e(()=>import("./k-pop-CvncURYW.js"),[]),"/src/data/ar/outside-the-story/science.json":()=>e(()=>import("./science-C1rxd0mO.js"),[]),"/src/data/ar/outside-the-story/series.json":()=>e(()=>import("./series-DgCSJJru.js"),[]),"/src/data/ar/outside-the-story/spy.json":()=>e(()=>import("./spy-CTUdze8o.js"),[]),"/src/data/ar/outside-the-story/sweets.json":()=>e(()=>import("./sweets-0_2hbNMS.js"),[]),"/src/data/ar/phrase-clue/animals/easy.json":()=>e(()=>import("./easy-B_GJKLA_.js"),[]),"/src/data/ar/phrase-clue/animals/hard.json":()=>e(()=>import("./hard-7EfMbXs4.js"),[]),"/src/data/ar/phrase-clue/animals/medium.json":()=>e(()=>import("./medium-Bcn1oCUk.js"),[]),"/src/data/ar/phrase-clue/geography/easy.json":()=>e(()=>import("./easy-B_kcdeCx.js"),[]),"/src/data/ar/phrase-clue/geography/hard.json":()=>e(()=>import("./hard-BCuCMNGp.js"),[]),"/src/data/ar/phrase-clue/geography/medium.json":()=>e(()=>import("./medium-CkoNY3Du.js"),[]),"/src/data/ar/phrase-clue/science/easy.json":()=>e(()=>import("./easy-f07zg_lU.js"),[]),"/src/data/ar/phrase-clue/science/hard.json":()=>e(()=>import("./hard-CV32qLEY.js"),[]),"/src/data/ar/phrase-clue/science/medium.json":()=>e(()=>import("./medium-BtIrOjNp.js"),[]),"/src/data/ar/picture-choice/animals/data.json":()=>e(()=>import("./data-6hZ_2-dK.js"),[]),"/src/data/ar/word-choice/animals/data.json":()=>e(()=>import("./data-Bij5nysW.js"),[]),"/src/data/en/formation/easy.json":()=>e(()=>import("./easy-CqPS8TrH.js"),[]),"/src/data/en/image-clue/animals/data.json":()=>e(()=>import("./data-BYo_61tt.js"),[]),"/src/data/en/image-clue/fruits-and-vegetables/data.json":()=>e(()=>import("./data-B6FoT8eG.js"),[]),"/src/data/en/image-clue/shapes/data.json":()=>e(()=>import("./data-Bu1Ld6Qx.js"),[]),"/src/data/en/letter-flow/easy.json":()=>e(()=>import("./easy-DqbTaQjR.js"),[]),"/src/data/en/outside-the-story/animals.json":()=>e(()=>import("./animals-D78oH89-.js"),[]),"/src/data/en/outside-the-story/anime.json":()=>e(()=>import("./anime-DXIlEidq.js"),[]),"/src/data/en/outside-the-story/cars.json":()=>e(()=>import("./cars-Cw03Nxyo.js"),[]),"/src/data/en/outside-the-story/cartoons.json":()=>e(()=>import("./cartoons-DwVIQVvA.js"),[]),"/src/data/en/outside-the-story/characters.json":()=>e(()=>import("./characters-Dl2vwTPn.js"),[]),"/src/data/en/outside-the-story/clothes.json":()=>e(()=>import("./clothes-BiLKpCWj.js"),[]),"/src/data/en/outside-the-story/drinks.json":()=>e(()=>import("./drinks-CP1Emjyy.js"),[]),"/src/data/en/outside-the-story/foods.json":()=>e(()=>import("./foods-BKBSmJG2.js"),[]),"/src/data/en/outside-the-story/football.json":()=>e(()=>import("./football-B8eU_HgW.js"),[]),"/src/data/en/outside-the-story/fruits-and-vegetables.json":()=>e(()=>import("./fruits-and-vegetables-B5narx4J.js"),[]),"/src/data/en/outside-the-story/gamers.json":()=>e(()=>import("./gamers-Dm5Tu0YA.js"),[]),"/src/data/en/outside-the-story/geography.json":()=>e(()=>import("./geography-Dw2uVeLE.js"),[]),"/src/data/en/outside-the-story/k-pop.json":()=>e(()=>import("./k-pop-BnHY6_tE.js"),[]),"/src/data/en/outside-the-story/science.json":()=>e(()=>import("./science-DF1sazzy.js"),[]),"/src/data/en/outside-the-story/series.json":()=>e(()=>import("./series-dqakDLa9.js"),[]),"/src/data/en/outside-the-story/spy.json":()=>e(()=>import("./spy-DLpfZG_H.js"),[]),"/src/data/en/outside-the-story/sweets.json":()=>e(()=>import("./sweets-DDZ5JqsI.js"),[]),"/src/data/en/phrase-clue/animals/easy.json":()=>e(()=>import("./easy-vc2CgBiI.js"),[]),"/src/data/en/phrase-clue/animals/hard.json":()=>e(()=>import("./hard-BmQiyFGH.js"),[]),"/src/data/en/phrase-clue/animals/medium.json":()=>e(()=>import("./medium-CDppU-oU.js"),[]),"/src/data/en/phrase-clue/geography/easy.json":()=>e(()=>import("./easy-v49lXgS1.js"),[]),"/src/data/en/phrase-clue/geography/hard.json":()=>e(()=>import("./hard-Hc9ZYG1D.js"),[]),"/src/data/en/phrase-clue/geography/medium.json":()=>e(()=>import("./medium-Yt4_5ZKV.js"),[]),"/src/data/en/phrase-clue/science/easy.json":()=>e(()=>import("./easy-CXDUIzZm.js"),[]),"/src/data/en/phrase-clue/science/hard.json":()=>e(()=>import("./hard-BPi6SzUA.js"),[]),"/src/data/en/phrase-clue/science/medium.json":()=>e(()=>import("./medium-Dm_81XWt.js"),[]),"/src/data/en/picture-choice/animals/data.json":()=>e(()=>import("./data-CtXqoHRL.js"),[]),"/src/data/en/word-choice/animals/data.json":()=>e(()=>import("./data-BDxquZu-.js"),[])}),y=v.map(async a=>{try{const n=Object.entries(i),I=n.find(([r])=>r.includes(`/${c}/img-choice/${a}/data.json`)||r.includes(`\\${c}\\img-choice\\${a}\\data.json`))?.[1],f=n.find(([r])=>r.includes(`/en/img-choice/${a}/data.json`)||r.includes(`\\en\\img-choice\\${a}\\data.json`))?.[1],A=n.find(([r])=>r.endsWith(`/img-choice/${a}/data.json`)||r.endsWith(`\\img-choice\\${a}\\data.json`))?.[1],l=I??f??A;return l?((await l()).default?.levels??[]).map(r=>{if(typeof r!="object"||r===null)return null;const d=r,L=d.id,V=d.word,E=d.solution,R=d.options,D=d.sound;if((typeof L=="string"||typeof L=="number")&&typeof V=="string"&&typeof E=="string"&&Array.isArray(R)&&R.every(m=>typeof m=="string")){const m=Array.from(new Set(R.map(String)));return m.includes(E)||m.push(E),{id:String(L),word:String(V),sound:typeof D=="string"?String(D):"",solution:String(E),options:m}}return null}).filter(r=>r!==null):(console.warn(`ImgChoiceGameEngine: no module found for ${c}/${a}`),[])}catch(n){return console.error(`ImgChoiceGameEngine: Failed to load ${c}/${a}`,n),[]}}),p=(await Promise.all(y)).flat();return p.length===0?[{id:"error-level",word:"ERROR",sound:"",solution:"/assets/images/error.png",options:["/assets/images/error.png"]}]:k(p)}}const K=new F;function M(){return C(K)}const Q=()=>{const{t:o,i18n:g}=P(),c=g.dir(),_=$("ImgChoice"),j=_?{title:_.title??"",description:_.description??"",steps:_.steps??[]}:void 0,{loading:v,currentLevel:i,shuffledOptions:y,answerStatus:s,selectedOption:p,audioRef:a,getAssetPath:n,playSound:I,handleOptionClick:f,nextLevel:A,handleBack:l}=M();if(v)return t.jsx("div",{className:"flex justify-center items-center h-screen",children:t.jsxs("p",{children:[o.loading,"..."]})});if(!i||i.solution==="ERROR")return t.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[t.jsx("p",{className:"text-xl font-semibold",children:o.noLevelsFound}),t.jsx(h,{onClick:l,children:o.back})]});const O=s==="correct"?o.congrats??"Correct!":s==="incorrect"?o.wrongAnswer??"Wrong! Try again":null,T=s==="correct"?"success":"error";return t.jsx(N,{title:o.ImgChoiceTitle??o.findThePictureTitle??"Find the Image",levelIndex:0,onBack:l,instructions:j,notificationMessage:O,notificationType:T,promptContent:t.jsxs("div",{className:"relative bg-card rounded-lg p-6 flex items-center justify-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:i.word}),i.sound&&t.jsxs(t.Fragment,{children:[t.jsx(h,{size:"icon",onClick:I,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70","aria-label":o.playSound??"Play sound",children:t.jsx(B,{className:"h-6 w-6 text-white","aria-hidden":!0})}),t.jsx("audio",{ref:a,src:n(i.sound),preload:"auto"})]})]}),optionsContent:y.map(u=>{const r=p===u,d=u===i.solution;return t.jsxs(h,{onClick:()=>f(u),disabled:s==="correct",className:w("text-base h-36 flex items-center justify-center gap-2 transition-all duration-300 overflow-hidden p-0",r&&s==="correct"&&"ring-4 ring-green-500",r&&s==="incorrect"&&"ring-4 ring-red-500",!r&&s==="incorrect"&&d&&"bg-green-200 text-green-800 ring-2 ring-green-400",s==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[t.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:t.jsx("img",{src:n(u),alt:"",className:"max-h-full max-w-full object-contain"})}),r&&s==="correct"&&t.jsx(G,{className:"absolute top-2 right-2 text-green-600"}),r&&s==="incorrect"&&t.jsx(S,{className:"absolute top-2 right-2 text-red-600"})]},u)}),nextButtonContent:s==="correct"&&t.jsxs(h,{onClick:A,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[o.next," ",c==="rtl"?t.jsx(x,{className:"ml-2"}):t.jsx(b,{className:"ml-2"})]})})};export{Q as default};
