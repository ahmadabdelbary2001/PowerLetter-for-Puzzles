import{f as m,r as o,j as i}from"./index-NsiPlYDC.js";import{s as p,B as x,G as h}from"./GameLayout-VUn-r-tL.js";import{N as y}from"./Notification-DXF8BR5t.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],E=m("circle-x",j);function N(n){const{currentLevel:t}=n,[e,l]=o.useState([]),[a,s]=o.useState(null),[c,r]=o.useState("idle"),u=o.useRef(null),f=o.useCallback(d=>{!t||c==="correct"||(s(d),d===t.solution?r("correct"):(r("incorrect"),u.current=window.setTimeout(()=>r("idle"),1200)))},[c,t]);return o.useEffect(()=>{t&&(l(p([...t.options])),r("idle"),s(null))},[t]),o.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[t]),{...n,shuffledOptions:e,selectedOption:a,answerStatus:c,handleOptionClick:f}}class O extends x{getModulePath(t,e){return`/src/data/${t}/${this.getGameId()}/${e}/data.json`}validateLevel(t){const e=t;if(e&&typeof e=="object"&&"id"in e&&"solution"in e&&"options"in e&&Array.isArray(e.options)){const l=e.options,a=e.solution,s=new Set(l);return s.add(a),e.options=Array.from(s),e}return null}getErrorLevel(){return{id:"error-level",solution:"ERROR",options:["Error"]}}}const S=({title:n,levelIndex:t,onBack:e,notificationMessage:l,notificationType:a,promptContent:s,optionsContent:c,nextButtonContent:r,instructions:u})=>i.jsx(h,{title:n,levelIndex:t,onBack:e,layoutType:"image",instructions:u,children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-4",children:[l&&i.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-50",children:i.jsx(y,{message:l,type:a,duration:1200})}),i.jsx("div",{className:"w-full max-w-md mb-8",children:s}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full max-w-4xl",children:c}),r&&i.jsx("div",{className:"mt-8 w-full max-w-md",children:r})]})});export{O as C,S as M,E as a,N as u};
