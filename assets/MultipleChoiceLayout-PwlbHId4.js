import{r as s,j as n}from"./index-BDuDnl7r.js";import{s as h,B as x,G as y}from"./GameLayout-Ba_o99v5.js";function j(i){const{currentLevel:t,setNotification:e,tNotification:o}=i,[c,l]=s.useState([]),[m,f]=s.useState(null),[r,a]=s.useState("idle"),u=s.useRef(null);s.useEffect(()=>(r==="correct"?e({messageKey:"correct",type:"success"}):r==="incorrect"&&(e({messageKey:"tryAgain",type:"error"}),u.current=window.setTimeout(()=>a("idle"),1200)),()=>{u.current&&clearTimeout(u.current)}),[r,e,o]);const p=s.useCallback(d=>{!t||r==="correct"||(f(d),d===t.solution?a("correct"):a("incorrect"))},[r,t]);return s.useEffect(()=>{t&&(l(h([...t.options])),a("idle"),f(null))},[t]),{...i,shuffledOptions:c,selectedOption:m,answerStatus:r,handleOptionClick:p}}class v extends x{getModulePath(t,e){return`/src/data/${t}/${this.getGameId()}/${e}/data.json`}validateLevel(t){const e=t;if(e&&typeof e=="object"&&"id"in e&&"solution"in e&&"options"in e&&Array.isArray(e.options)){const o=e.options,c=e.solution,l=new Set(o);return l.add(c),e.options=Array.from(l),e}return null}getErrorLevel(){return{id:"error-level",solution:"ERROR",options:["Error"]}}}const E=({promptContent:i,optionsContent:t,nextButtonContent:e,...o})=>n.jsx(y,{...o,layoutType:"image",children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-4",children:[n.jsx("div",{className:"w-full max-w-md mb-8",children:i}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full max-w-4xl",children:t}),e&&n.jsx("div",{className:"mt-8 w-full max-w-md",children:e})]})});export{v as C,E as M,j as u};
