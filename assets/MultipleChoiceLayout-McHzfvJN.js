import{f as x,r as s,j as n}from"./index-CjyIWeEv.js";import{s as y,B as j,G as g}from"./GameLayout-B--m7vcf.js";import{N as v}from"./Notification-BQeTBVRQ.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],O=x("circle-x",w);function R(i){const{currentLevel:t}=i,[e,a]=s.useState([]),[c,o]=s.useState(null),[u,l]=s.useState("idle"),d=s.useRef(null),f=s.useRef(null),m=r=>`/${r.replace(/^\//,"")}`,p=s.useCallback(()=>{d.current?.play().catch(console.error)},[]),h=s.useCallback(r=>{!t||u==="correct"||(o(r),r===t.solution?l("correct"):(l("incorrect"),f.current=window.setTimeout(()=>l("idle"),1200)))},[u,t]);return s.useEffect(()=>{t&&(a(y([...t.options])),l("idle"),o(null))},[t]),s.useEffect(()=>{const r=d.current;return()=>{f.current&&clearTimeout(f.current),r&&(r.pause(),r.currentTime=0)}},[t]),{...i,shuffledOptions:e,selectedOption:c,answerStatus:u,audioRef:d,getAssetPath:m,playSound:p,handleOptionClick:h}}class b extends j{getModulePath(t,e){return`/src/data/${t}/${this.getGameId()}/${e}/data.json`}validateLevel(t){const e=t;if(e&&typeof e=="object"&&"id"in e&&"solution"in e&&"options"in e&&Array.isArray(e.options)){const a=e.options,c=e.solution,o=new Set(a);return o.add(c),e.options=Array.from(o),e}return null}getErrorLevel(){return{id:"error-level",solution:"ERROR",options:["Error"]}}}const C=({title:i,levelIndex:t,onBack:e,notificationMessage:a,notificationType:c,promptContent:o,optionsContent:u,nextButtonContent:l,instructions:d})=>n.jsx(g,{title:i,levelIndex:t,onBack:e,layoutType:"image",instructions:d,children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-4",children:[a&&n.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-50",children:n.jsx(v,{message:a,type:c,duration:1200})}),n.jsx("div",{className:"w-full max-w-md mb-8",children:o}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full max-w-4xl",children:u}),l&&n.jsx("div",{className:"mt-8 w-full max-w-md",children:l})]})});export{b as C,C as M,O as a,R as u};
