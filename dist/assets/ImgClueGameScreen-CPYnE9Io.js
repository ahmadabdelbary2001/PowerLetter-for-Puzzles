import{u as P,j as e,B as c,A as O,b as T,a as K}from"./index-NsiPlYDC.js";import{C as V,u as $,a as z,L as D,S as F}from"./ClueGameLayout-CPEf_WC0.js";import{G as W}from"./GameControls-BF1adxzA.js";import{u as q}from"./useGameController-CmXV0Pe_.js";import{u as H}from"./Notification-DXF8BR5t.js";import{V as J}from"./volume-2-DO2K45Ec.js";import"./GameLayout-VUn-r-tL.js";import"./GameButton-BeDC4MJk.js";import"./circle-check-big-B-iOLrcZ.js";class Q extends V{getGameId(){return"img-clue"}getModulePath(s,n){return`/src/data/${s}/img-clue/${n}/data.json`}validateLevel(s){const n=s;return n&&typeof n=="object"&&"id"in n&&"image"in n&&"sound"in n&&"solution"in n?{id:String(n.id),image:String(n.image),sound:String(n.sound),solution:String(n.solution)}:null}getErrorLevel(){return{id:"error-level",image:"/assets/images/error.png",sound:"",solution:"ERROR"}}isKidsMode(){return!0}}const U=new Q;function X(){const t=q({engine:U});return $(t)}const le=()=>{const{t,i18n:s}=P(),n=s.dir(),o=H("imageClue"),v=o?{title:o.title,description:o.description??"",steps:o.steps??[]}:void 0,{loading:h,currentLevel:l,solution:m,notification:f,wrongAnswers:u,gameState:r,currentLevelIndex:a,levels:j,audioRef:C,getAssetPath:d,playSound:w,onCheck:b,onLetterClick:L,onRemove:S,onClear:k,nextLevel:g,prevLevel:N,handleBack:x,resetLevel:y,canRemove:R,canClear:G,canCheck:I,gameMode:p}=X();if(h)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("p",{children:[t.loading,"..."]})});if(!l||l.solution==="ERROR")return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:t.noLevelsFound}),e.jsx(c,{onClick:x,children:t.back})]});const{answerSlots:A,slotIndices:E,hintIndices:B}=r;return e.jsx(z,{title:t.imageClueTitle,levelIndex:a,onBack:x,instructions:v,notification:f,layoutType:"image",promptContent:e.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[e.jsx("img",{src:d(l.image),alt:m,className:"max-h-full max-w-full object-contain"}),e.jsx(c,{size:"icon",onClick:w,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70",children:e.jsx(J,{className:"h-6 w-6 text-white"})}),e.jsx("audio",{ref:C,src:d(l.sound),preload:"auto"})]}),solutionContent:e.jsx(F,{solution:m,currentWord:A.join("")}),letterOptionsContent:e.jsx(D,{letters:r.letters,selectedIndices:E.filter(i=>i!==null),onLetterClick:L,disabled:r.gameState!=="playing",hintIndices:B}),wrongAnswersContent:u.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[t.wrongAttempts,":"]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:u.map((i,M)=>e.jsx(K,{variant:"destructive",children:i},M))})]}),gameControlsContent:r.gameState==="won"&&p!=="competitive"?e.jsxs(c,{onClick:g,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[t.next," ",n==="rtl"?e.jsx(O,{className:"ml-2"}):e.jsx(T,{className:"ml-2"})]}):e.jsx(W,{onRemoveLetter:S,onClearAnswer:k,onCheckAnswer:b,onReset:y,onPrevLevel:N,onNextLevel:g,canRemove:R,canClear:G,canCheck:I,canPrev:a>0,canNext:a<j.length-1,gameState:r.gameState,gameMode:p,isKidsMode:!0,labels:{remove:t.remove,clear:t.clear,check:t.check,hint:t.hint,showSolution:t.showSolution,reset:t.reset,prev:t.prev,next:t.next}})})};export{le as default};
