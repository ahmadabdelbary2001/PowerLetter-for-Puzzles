import{j as d,f as w,g as j,r as f,b as E}from"./index-DhtLDdEi.js";import{a as S,N}from"./Notification-7NPjY3Pd.js";import{G as k}from"./GameLayout-yIn20Rz2.js";const R=j("border-2 rounded-lg flex items-center justify-center font-bold",{variants:{size:{computer:"w-12 h-12 text-lg",tablet:"w-10 h-10 text-md",mobile:"w-8 h-8 text-sm"},filled:{true:"bg-primary border-primary text-primary-foreground",false:"bg-card"}},defaultVariants:{size:"mobile",filled:!1}});function z({char:l="",filled:t,size:s,className:i}){return d.jsx("div",{className:w(R({size:s,filled:t}),i),children:l})}function B({solution:l,currentWord:t,className:s}){const i=[...l],a=[...t],[c,r]=f.useState("mobile");return f.useEffect(()=>{const u=()=>{const o=window.innerWidth;o>=1024?r("computer"):o>=768?r("tablet"):r("mobile")};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),d.jsx("div",{className:w("flex flex-wrap justify-center gap-2",s),children:i.map((u,o)=>d.jsx(z,{char:a[o]||"",filled:!!a[o],size:c},o))})}function G({letter:l,isSelected:t=!1,isHint:s=!1,disabled:i=!1,onClick:a,className:c,deviceType:r="mobile"}){return d.jsxs("button",{onClick:a,disabled:i||s,className:w("rounded-lg border-2 font-bold transition-all duration-300 relative","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","shadow-card",{"bg-green-100 border-green-500 text-green-800 cursor-default":s,"bg-primary border-primary text-primary-foreground":t&&!s,"bg-card border-border text-card-foreground hover:border-primary/30":!t&&!s,"opacity-80":i},c),style:{width:r==="computer"?"min(8vw, 56px)":r==="tablet"?"min(10vw, 56px)":"min(9vw, 48px)",height:r==="computer"?"min(8vw, 56px)":r==="tablet"?"min(10vw, 56px)":"min(9vw, 48px)",fontSize:r==="computer"?"min(3vw, 18px)":r==="tablet"?"min(4vw, 18px)":"min(4.2vw, 15px)"},children:[l,s&&d.jsx("span",{className:"absolute -top-1 -right-1 text-xs",children:"ðŸ”’"})]})}function D({letters:l,selectedIndices:t,onLetterClick:s,disabled:i=!1,hintIndices:a,className:c}){const r=l,u=e=>e,[o,p]=f.useState("mobile");f.useEffect(()=>{const e=()=>{const x=window.innerWidth;x>=1024?p("computer"):x>=768?p("tablet"):p("mobile")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const g=()=>{const e=r.length;return o==="computer"?e<=12?6:e<=18?9:12:o==="tablet"?e<=12||e<=18?6:8:e<=12?4:(e<=18,6)},m=(e,x)=>d.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map((y,L)=>{const v=u(x+L),C=t.includes(v),b=a.includes(v);return d.jsx(G,{letter:y,isSelected:C,isHint:b,disabled:i,onClick:()=>s(v),deviceType:o},v)})}),n=g(),h=[];for(let e=0;e<r.length;e+=n)h.push(r.slice(e,e+n));return d.jsx("div",{className:w("space-y-4",c),children:h.map((e,x)=>d.jsx("div",{children:m(e,x*n)},x))})}function A({engine:l,language:t,categories:s,difficulty:i}){const{loading:a,levels:c,currentLevel:r,currentLevelIndex:u,solution:o,notification:p,setNotification:g,gameState:m,dispatch:n,nextLevel:h,prevLevel:e,resetLevel:x}=S(l,{language:t,categories:s,difficulty:i}),y=f.useCallback(b=>{g(b),b&&setTimeout(()=>{g(null)},2500)},[g]),L=f.useCallback(b=>{m.gameState==="playing"&&n({type:"PLACE",gridIndex:b,letter:m.letters[b]})},[m,n]),v=f.useCallback(()=>{n({type:"REMOVE_LAST"})},[n]),C=f.useCallback(()=>{n({type:"CLEAR"})},[n]);return{loading:a,levels:c,currentLevel:r,currentLevelIndex:u,solution:o,notification:p,setNotification:y,gameState:m,dispatch:n,nextLevel:h,prevLevel:e,resetLevel:x,letters:m.letters,onLetterClick:L,onRemove:v,onClear:C}}function P(l){const{gameState:t,slotIndices:s,answerSlots:i,hintIndices:a}=l,{gameMode:c,teams:r,currentTeam:u}=E(),o=f.useMemo(()=>t!=="playing"?!1:s.some(n=>n!==null&&!a.includes(n)),[t,s,a]),p=f.useMemo(()=>t!=="playing"?!1:s.filter(n=>n!==null).length>a.length,[t,s,a]),g=f.useMemo(()=>t!=="playing"?!1:i.every(n=>n!==""),[t,i]),m=f.useMemo(()=>t!=="playing"?!1:c==="competitive"?(r[u]?.hintsRemaining??0)>0:!0,[t,c,r,u]);return{canRemove:o,canClear:p,canCheck:g,canHint:m}}const V=({title:l,levelIndex:t,onBack:s,difficulty:i,instructions:a,notification:c,layoutType:r,promptContent:u,solutionContent:o,letterOptionsContent:p,gameControlsContent:g,wrongAnswersContent:m})=>{const n=c?.message??null,h=c?.type??"info";return d.jsxs(k,{title:l,levelIndex:t,onBack:s,difficulty:i,instructions:a,layoutType:r,children:[n&&d.jsx(N,{message:n,type:h}),u,o,p,m,g]})};export{V as C,D as L,B as S,P as a,A as u};
