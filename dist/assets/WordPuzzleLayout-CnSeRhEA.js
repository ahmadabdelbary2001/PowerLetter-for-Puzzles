import{j as d,f as w,g as C,r as f,b as z}from"./index-CuxIdgLY.js";import{a as E,N as S}from"./Notification-DIXhH6dE.js";import{G as N}from"./GameLayout-BuT4ONa9.js";const k=C("border-2 rounded-lg flex items-center justify-center font-bold",{variants:{size:{computer:"w-12 h-12 text-lg",tablet:"w-10 h-10 text-md",mobile:"w-8 h-8 text-sm"},filled:{true:"bg-primary border-primary text-primary-foreground",false:"bg-card"}},defaultVariants:{size:"mobile",filled:!1}});function R({char:l="",filled:t,size:s,className:i}){return d.jsx("div",{className:w(k({size:s,filled:t}),i),children:l})}function I({solution:l,currentWord:t,className:s}){const i=[...l],a=[...t],[c,r]=f.useState("mobile");return f.useEffect(()=>{const u=()=>{const o=window.innerWidth;o>=1024?r("computer"):o>=768?r("tablet"):r("mobile")};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),d.jsx("div",{className:w("flex flex-wrap justify-center gap-2",s),children:i.map((u,o)=>d.jsx(R,{char:a[o]||"",filled:!!a[o],size:c},o))})}function M({letter:l,isSelected:t=!1,isHint:s=!1,disabled:i=!1,onClick:a,className:c,deviceType:r="mobile"}){return d.jsxs("button",{onClick:a,disabled:i||s,className:w("rounded-lg border-2 font-bold transition-all duration-300 relative","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","shadow-card",{"bg-green-100 border-green-500 text-green-800 cursor-default":s,"bg-primary border-primary text-primary-foreground":t&&!s,"bg-card border-border text-card-foreground hover:border-primary/30":!t&&!s,"opacity-80":i},c),style:{width:r==="computer"?"min(8vw, 56px)":r==="tablet"?"min(10vw, 56px)":"min(9vw, 48px)",height:r==="computer"?"min(8vw, 56px)":r==="tablet"?"min(10vw, 56px)":"min(9vw, 48px)",fontSize:r==="computer"?"min(3vw, 18px)":r==="tablet"?"min(4vw, 18px)":"min(4.2vw, 15px)"},children:[l,s&&d.jsx("span",{className:"absolute -top-1 -right-1 text-xs",children:"ðŸ”’"})]})}function P({letters:l,selectedIndices:t,onLetterClick:s,disabled:i=!1,hintIndices:a,className:c}){const r=l,u=e=>e,[o,p]=f.useState("mobile");f.useEffect(()=>{const e=()=>{const x=window.innerWidth;x>=1024?p("computer"):x>=768?p("tablet"):p("mobile")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const g=()=>{const e=r.length;return o==="computer"?e<=12?6:e<=18?9:12:o==="tablet"?e<=12||e<=18?6:8:e<=12?4:(e<=18,6)},m=(e,x)=>d.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map((y,L)=>{const v=u(x+L),j=t.includes(v),b=a.includes(v);return d.jsx(M,{letter:y,isSelected:j,isHint:b,disabled:i,onClick:()=>s(v),deviceType:o},v)})}),n=g(),h=[];for(let e=0;e<r.length;e+=n)h.push(r.slice(e,e+n));return d.jsx("div",{className:w("space-y-4",c),children:h.map((e,x)=>d.jsx("div",{children:m(e,x*n)},x))})}function B({engine:l,language:t,categories:s,difficulty:i}){const{loading:a,levels:c,currentLevel:r,currentLevelIndex:u,solution:o,notification:p,setNotification:g,gameState:m,dispatch:n,nextLevel:h,prevLevel:e,resetLevel:x}=E(l,{language:t,categories:s,difficulty:i}),y=f.useCallback(b=>{g(b),b&&setTimeout(()=>{g(null)},2500)},[g]),L=f.useCallback(b=>{m.gameState==="playing"&&n({type:"PLACE",gridIndex:b,letter:m.letters[b]})},[m,n]),v=f.useCallback(()=>{n({type:"REMOVE_LAST"})},[n]),j=f.useCallback(()=>{n({type:"CLEAR"})},[n]);return{loading:a,levels:c,currentLevel:r,currentLevelIndex:u,solution:o,notification:p,setNotification:y,gameState:m,dispatch:n,nextLevel:h,prevLevel:e,resetLevel:x,letters:m.letters,onLetterClick:L,onRemove:v,onClear:j}}function D(l){const{gameState:t,slotIndices:s,answerSlots:i,hintIndices:a}=l,{gameMode:c,teams:r,currentTeam:u}=z(),o=f.useMemo(()=>t!=="playing"?!1:s.some(n=>n!==null&&!a.includes(n)),[t,s,a]),p=f.useMemo(()=>t!=="playing"?!1:s.filter(n=>n!==null).length>a.length,[t,s,a]),g=f.useMemo(()=>t!=="playing"?!1:i.every(n=>n!==""),[t,i]),m=f.useMemo(()=>t!=="playing"?!1:c==="competitive"?(r[u]?.hintsRemaining??0)>0:!0,[t,c,r,u]);return{canRemove:o,canClear:p,canCheck:g,canHint:m}}const A=({title:l,levelIndex:t,onBack:s,difficulty:i,instructions:a,notification:c,layoutType:r,promptContent:u,solutionContent:o,letterOptionsContent:p,gameControlsContent:g,wrongAnswersContent:m})=>{const n=c?.message??null,h=c?.type??"info";return d.jsxs(N,{title:l,levelIndex:t,onBack:s,difficulty:i,instructions:a,layoutType:r,children:[n&&d.jsx(S,{message:n,type:h}),u,o,p,m,g]})};export{P as L,I as S,A as W,D as a,B as u};
