import{f as v,_ as e,a as O,u as x,r as m,c as R,j as r,B as y,g as T,A as P,e as I}from"./index-BMeGCbr1.js";import{s as L,u as b,G as V,C as D}from"./gameUtils-DDb8TmhZ.js";import{V as S}from"./volume-2-DNRrqaXA.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C=v("circle-x",w);class k{async loadLevels(E){const{language:p,categories:o}=E,t=["animals","fruits","shapes"],j=(o.includes("general")?t:o).map(async l=>{try{const u=`/src/data/${l.charAt(0).toUpperCase()+l.slice(1)}/${p}/word-choice/data.json`,c=Object.assign({"/src/data/Animals/ar/clue/ar-clue-animals-easy.json":()=>e(()=>import("./ar-clue-animals-easy-B_GJKLA_.js"),[]),"/src/data/Animals/ar/clue/ar-clue-animals-hard.json":()=>e(()=>import("./ar-clue-animals-hard-7EfMbXs4.js"),[]),"/src/data/Animals/ar/clue/ar-clue-animals-medium.json":()=>e(()=>import("./ar-clue-animals-medium-Bcn1oCUk.js"),[]),"/src/data/Animals/ar/clue/ar-clue-animals-words.json":()=>e(()=>import("./ar-clue-animals-words-DxH5pZeF.js"),[]),"/src/data/Animals/ar/image-clue/data.json":()=>e(()=>import("./data-DK8CfFPE.js"),[]),"/src/data/Animals/ar/word-choice/data.json":()=>e(()=>import("./data-CtZNGJR9.js"),[]),"/src/data/Animals/en/clue/en-clue-animals-easy.json":()=>e(()=>import("./en-clue-animals-easy-vc2CgBiI.js"),[]),"/src/data/Animals/en/clue/en-clue-animals-hard.json":()=>e(()=>import("./en-clue-animals-hard-BmQiyFGH.js"),[]),"/src/data/Animals/en/clue/en-clue-animals-medium.json":()=>e(()=>import("./en-clue-animals-medium-CDppU-oU.js"),[]),"/src/data/Animals/en/clue/en-clue-animals-words.json":()=>e(()=>import("./en-clue-animals-words-OyMRQ2OB.js"),[]),"/src/data/Animals/en/image-clue/data.json":()=>e(()=>import("./data-DWMyu4A6.js"),[]),"/src/data/Animals/en/word-choice/data.json":()=>e(()=>import("./data-aBYoMs23.js"),[]),"/src/data/Fruits/ar/image-clue/data.json":()=>e(()=>import("./data-CenmuYLK.js"),[]),"/src/data/Fruits/en/image-clue/data.json":()=>e(()=>import("./data-OxJ4m8-5.js"),[]),"/src/data/Geography/ar/clue/ar-clue-geography-easy.json":()=>e(()=>import("./ar-clue-geography-easy-B_kcdeCx.js"),[]),"/src/data/Geography/ar/clue/ar-clue-geography-hard.json":()=>e(()=>import("./ar-clue-geography-hard-BCuCMNGp.js"),[]),"/src/data/Geography/ar/clue/ar-clue-geography-medium.json":()=>e(()=>import("./ar-clue-geography-medium-CkoNY3Du.js"),[]),"/src/data/Geography/ar/clue/ar-clue-geography-words.json":()=>e(()=>import("./ar-clue-geography-words-C7oqRjv9.js"),[]),"/src/data/Geography/en/clue/en-clue-geography-easy.json":()=>e(()=>import("./en-clue-geography-easy-v49lXgS1.js"),[]),"/src/data/Geography/en/clue/en-clue-geography-hard.json":()=>e(()=>import("./en-clue-geography-hard-Hc9ZYG1D.js"),[]),"/src/data/Geography/en/clue/en-clue-geography-medium.json":()=>e(()=>import("./en-clue-geography-medium-Yt4_5ZKV.js"),[]),"/src/data/Geography/en/clue/en-clue-geography-words.json":()=>e(()=>import("./en-clue-geography-words-BJFrdNPX.js"),[]),"/src/data/Science/ar/clue/ar-clue-science-easy.json":()=>e(()=>import("./ar-clue-science-easy-f07zg_lU.js"),[]),"/src/data/Science/ar/clue/ar-clue-science-hard.json":()=>e(()=>import("./ar-clue-science-hard-CV32qLEY.js"),[]),"/src/data/Science/ar/clue/ar-clue-science-medium.json":()=>e(()=>import("./ar-clue-science-medium-BtIrOjNp.js"),[]),"/src/data/Science/ar/clue/ar-clue-science-words.json":()=>e(()=>import("./ar-clue-science-words-DpIQpR0-.js"),[]),"/src/data/Science/en/clue/en-clue-science-easy.json":()=>e(()=>import("./en-clue-science-easy-CXDUIzZm.js"),[]),"/src/data/Science/en/clue/en-clue-science-hard.json":()=>e(()=>import("./en-clue-science-hard-Dqcig8Ht.js"),[]),"/src/data/Science/en/clue/en-clue-science-medium.json":()=>e(()=>import("./en-clue-science-medium-Dm_81XWt.js"),[]),"/src/data/Science/en/clue/en-clue-science-words.json":()=>e(()=>import("./en-clue-science-words-BdiwMlAj.js"),[]),"/src/data/Shapes/ar/image-clue/data.json":()=>e(()=>import("./data-B126H-NP.js"),[]),"/src/data/Shapes/en/image-clue/data.json":()=>e(()=>import("./data-Bu1Ld6Qx.js"),[])})[u];return c?((await c()).default?.levels||[]).map(a=>{if(typeof a=="object"&&a!==null&&"id"in a&&"image"in a&&"sound"in a&&"solution"in a&&"options"in a&&Array.isArray(a.options)){const i=new Set(a.options);return i.add(a.solution),{id:String(a.id),image:String(a.image),sound:String(a.sound),solution:String(a.solution),options:Array.from(i)}}return null}).filter(a=>a!==null):(console.warn(`Module not found for path: ${u}`),[])}catch(d){return console.error(`WordChoiceGameEngine: Failed to load levels for ${p}/${l}.`,d),[]}}),g=(await Promise.all(j)).flat();return g.length===0?[{id:"error-level",image:"/assets/images/error.png",sound:"",solution:"ERROR",options:["Error","Loading","Failed"]}]:L(g)}}const G=new k;function N(){const n=O(),{language:E,categories:p}=x(),{loading:o,currentLevel:t,nextLevel:s}=b(G,{language:E,categories:p}),[j,A]=m.useState([]),[g,l]=m.useState(null),[d,u]=m.useState("idle"),h=m.useRef(null),c=i=>`${"/PowerLetter-for-Puzzles/".replace(/\/$/,"")}/${i.replace(/^\//,"")}`,_=m.useCallback(()=>{h.current?.play().catch(i=>console.error("Audio play failed:",i))},[]),f=m.useCallback(i=>{d!=="idle"||!t||(l(i),i===t.solution?(u("correct"),setTimeout(s,1200)):u("incorrect"))},[d,t,s]),a=m.useCallback(()=>n("/kids-games"),[n]);return m.useEffect(()=>{t&&(A(L([...t.options])),u("idle"),l(null))},[t]),{loading:o,currentLevel:t,shuffledOptions:j,answerStatus:d,selectedOption:g,audioRef:h,getAssetPath:c,playSound:_,handleOptionClick:f,nextLevel:s,handleBack:a}}const W=()=>{const{t:n,dir:E}=R(),{loading:p,currentLevel:o,shuffledOptions:t,answerStatus:s,selectedOption:j,audioRef:A,getAssetPath:g,playSound:l,handleOptionClick:d,nextLevel:u,handleBack:h}=N();return p?r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsxs("p",{children:[n.loading,"..."]})}):!o||o.solution==="ERROR"?r.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[r.jsx("p",{className:"text-xl font-semibold",children:n.noLevelsFound}),r.jsx(y,{onClick:h,children:n.back})]}):r.jsxs(V,{title:n.wordChoiceTitle,levelIndex:0,onBack:h,children:[r.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[r.jsx("img",{src:g(o.image),alt:"Guess the word",className:"max-h-full max-w-full object-contain"}),r.jsx(y,{size:"icon",onClick:l,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70",children:r.jsx(S,{className:"h-6 w-6 text-white"})}),r.jsx("audio",{ref:A,src:g(o.sound),preload:"auto"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4",children:t.map(c=>{const _=j===c,f=c===o.solution;return r.jsxs(y,{onClick:()=>d(c),disabled:s!=="idle",className:T("text-lg h-20 flex items-center justify-center gap-2",_&&s==="correct"&&"bg-green-500 hover:bg-green-600 border-2 border-green-700",_&&s==="incorrect"&&"bg-red-500 hover:bg-red-500 border-2 border-red-700",!_&&s==="incorrect"&&f&&"bg-green-200 text-green-800 border-2 border-green-400",s==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[c,_&&s==="correct"&&r.jsx(D,{}),_&&s==="incorrect"&&r.jsx(C,{})]},c)})}),s==="correct"&&r.jsx("div",{className:"pt-4",children:r.jsxs(y,{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[n.next," ",E==="rtl"?r.jsx(P,{className:"ml-2"}):r.jsx(I,{className:"ml-2"})]})})]})};export{W as default};
