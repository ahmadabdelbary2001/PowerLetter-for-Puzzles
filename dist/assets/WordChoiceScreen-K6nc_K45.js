import{i as T,_ as e,u as x,b as P,r as d,d as I,c as V,j as a,B as v,g as w,A as D,f as b}from"./index-DEbMSiNp.js";import{s as R,u as C,a as k,e as S,G as N,N as G}from"./instructions-DjHNv5WI.js";import{V as $}from"./volume-2-BK2X87fI.js";import{C as W}from"./circle-check-big-9Nc9Vcqt.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z=T("circle-x",B);class M{async loadLevels(p){const{language:u,categories:_}=p,E=["animals","fruits","shapes"],n=(_.includes("general")?E:_).map(async f=>{try{const i=`/src/data/${u}/word-choice/${f}/data.json`,l=Object.assign({"/src/data/ar/clue/animals/ar-clue-animals-easy.json":()=>e(()=>import("./ar-clue-animals-easy-B_GJKLA_.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-hard.json":()=>e(()=>import("./ar-clue-animals-hard-7EfMbXs4.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-medium.json":()=>e(()=>import("./ar-clue-animals-medium-Bcn1oCUk.js"),[]),"/src/data/ar/clue/animals/ar-clue-animals-words.json":()=>e(()=>import("./ar-clue-animals-words-DxH5pZeF.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-easy.json":()=>e(()=>import("./ar-clue-geography-easy-B_kcdeCx.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-hard.json":()=>e(()=>import("./ar-clue-geography-hard-BCuCMNGp.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-medium.json":()=>e(()=>import("./ar-clue-geography-medium-CkoNY3Du.js"),[]),"/src/data/ar/clue/geography/ar-clue-geography-words.json":()=>e(()=>import("./ar-clue-geography-words-C7oqRjv9.js"),[]),"/src/data/ar/clue/science/ar-clue-science-easy.json":()=>e(()=>import("./ar-clue-science-easy-f07zg_lU.js"),[]),"/src/data/ar/clue/science/ar-clue-science-hard.json":()=>e(()=>import("./ar-clue-science-hard-CV32qLEY.js"),[]),"/src/data/ar/clue/science/ar-clue-science-medium.json":()=>e(()=>import("./ar-clue-science-medium-BtIrOjNp.js"),[]),"/src/data/ar/clue/science/ar-clue-science-words.json":()=>e(()=>import("./ar-clue-science-words-DpIQpR0-.js"),[]),"/src/data/ar/formation/ar-formation-easy.json":()=>e(()=>import("./ar-formation-easy-CuHzQLY1.js"),[]),"/src/data/ar/formation/ar-formation-hard.json":()=>e(()=>import("./ar-formation-hard-CRxFgu7h.js"),[]),"/src/data/ar/image-clue/animals/data.json":()=>e(()=>import("./data-USJTiWy0.js"),[]),"/src/data/ar/image-clue/fruits/data.json":()=>e(()=>import("./data-CenmuYLK.js"),[]),"/src/data/ar/image-clue/shapes/data.json":()=>e(()=>import("./data-B126H-NP.js"),[]),"/src/data/ar/letter-flow/ar-flow-easy.json":()=>e(()=>import("./ar-flow-easy-C68xgLTr.js"),[]),"/src/data/ar/letter-flow/ar-flow-medium.json":()=>e(()=>import("./ar-flow-medium-BL27Zp8Y.js"),[]),"/src/data/ar/word-choice/animals/data.json":()=>e(()=>import("./data-Bij5nysW.js"),[]),"/src/data/en/clue/animals/en-clue-animals-easy.json":()=>e(()=>import("./en-clue-animals-easy-vc2CgBiI.js"),[]),"/src/data/en/clue/animals/en-clue-animals-hard.json":()=>e(()=>import("./en-clue-animals-hard-BmQiyFGH.js"),[]),"/src/data/en/clue/animals/en-clue-animals-medium.json":()=>e(()=>import("./en-clue-animals-medium-CDppU-oU.js"),[]),"/src/data/en/clue/animals/en-clue-animals-words.json":()=>e(()=>import("./en-clue-animals-words-OyMRQ2OB.js"),[]),"/src/data/en/clue/geography/en-clue-geography-easy.json":()=>e(()=>import("./en-clue-geography-easy-v49lXgS1.js"),[]),"/src/data/en/clue/geography/en-clue-geography-hard.json":()=>e(()=>import("./en-clue-geography-hard-Hc9ZYG1D.js"),[]),"/src/data/en/clue/geography/en-clue-geography-medium.json":()=>e(()=>import("./en-clue-geography-medium-Yt4_5ZKV.js"),[]),"/src/data/en/clue/geography/en-clue-geography-words.json":()=>e(()=>import("./en-clue-geography-words-BJFrdNPX.js"),[]),"/src/data/en/clue/science/en-clue-science-easy.json":()=>e(()=>import("./en-clue-science-easy-CXDUIzZm.js"),[]),"/src/data/en/clue/science/en-clue-science-hard.json":()=>e(()=>import("./en-clue-science-hard-Dqcig8Ht.js"),[]),"/src/data/en/clue/science/en-clue-science-medium.json":()=>e(()=>import("./en-clue-science-medium-Dm_81XWt.js"),[]),"/src/data/en/clue/science/en-clue-science-words.json":()=>e(()=>import("./en-clue-science-words-BdiwMlAj.js"),[]),"/src/data/en/formation/en-formation-easy.json":()=>e(()=>import("./en-formation-easy-CqPS8TrH.js"),[]),"/src/data/en/image-clue/animals/data.json":()=>e(()=>import("./data-BYo_61tt.js"),[]),"/src/data/en/image-clue/fruits/data.json":()=>e(()=>import("./data-OxJ4m8-5.js"),[]),"/src/data/en/image-clue/shapes/data.json":()=>e(()=>import("./data-Bu1Ld6Qx.js"),[]),"/src/data/en/letter-flow/en-flow-easy.json":()=>e(()=>import("./en-flow-easy-DqbTaQjR.js"),[]),"/src/data/en/word-choice/animals/data.json":()=>e(()=>import("./data-BDxquZu-.js"),[])})[i];return l?((await l()).default?.levels||[]).map(r=>{if(typeof r=="object"&&r!==null&&"id"in r&&"image"in r&&"sound"in r&&"solution"in r&&"options"in r&&Array.isArray(r.options)){const y=new Set(r.options);return y.add(r.solution),{id:String(r.id),image:String(r.image),sound:String(r.sound),solution:String(r.solution),options:Array.from(y)}}return null}).filter(r=>r!==null):(console.warn(`Module not found for path: ${i}`),[])}catch(i){return console.error(`WordChoiceGameEngine: Failed to load levels for ${u}/${f}.`,i),[]}}),h=(await Promise.all(n)).flat();return h.length===0?[{id:"error-level",image:"/assets/images/error.png",sound:"",solution:"ERROR",options:["Error","Loading","Failed"]}]:R(h)}}const F=new M;function U(){const o=x(),{language:p,categories:u,gameMode:_,gameType:E}=P(),{loading:c,currentLevel:n,nextLevel:s}=C(F,{language:p,categories:u}),[h,f]=d.useState([]),[i,L]=d.useState(null),[l,m]=d.useState("idle"),j=d.useRef(null),r=t=>`${"/PowerLetter-for-Puzzles/".replace(/\/$/,"")}/${t.replace(/^\//,"")}`,y=d.useCallback(()=>{j.current?.play().catch(t=>console.error("Audio play failed:",t))},[]),A=d.useCallback(t=>{n&&l!=="correct"&&(L(t),t===n.solution?(m("correct"),setTimeout(()=>{s()},1200)):(m("incorrect"),setTimeout(()=>m("idle"),1200)))},[l,n,s]),g=d.useCallback(()=>{o(_==="competitive"?`/team-config/${E}`:"/kids-games")},[o,_,E]);return d.useEffect(()=>{n&&(f(R([...n.options])),m("idle"),L(null))},[n]),{loading:c,currentLevel:n,shuffledOptions:h,answerStatus:l,selectedOption:i,audioRef:j,getAssetPath:r,playSound:y,handleOptionClick:A,nextLevel:s,handleBack:g}}function q(){const{i18n:o}=I();return(o.language?.toLowerCase()).startsWith("ar")?k.wordChoice:S.wordChoice}const Q=()=>{const{t:o,i18n:p}=V(),u=p.dir(),_=q(),{loading:E,currentLevel:c,shuffledOptions:n,answerStatus:s,selectedOption:h,audioRef:f,getAssetPath:i,playSound:L,handleOptionClick:l,nextLevel:m,handleBack:j}=U();if(E)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsxs("p",{children:[o.loading,"..."]})});if(!c||c.solution==="ERROR")return a.jsxs("div",{className:"flex flex-col justify-center items-center h-screen gap-4 p-4 text-center",children:[a.jsx("p",{className:"text-xl font-semibold",children:o.noLevelsFound}),a.jsx(v,{onClick:j,children:o.back})]});const r=s!=="idle",y=s==="correct"?o.congrats??"Correct!":s==="incorrect"?o.wrongAnswer??"Wrong! Try again":"",A=s==="correct"?"success":"error";return a.jsxs(N,{title:o.wordChoiceTitle,levelIndex:0,onBack:j,layoutType:"image",instructions:_,children:[r&&a.jsx(G,{message:y,type:A,duration:1e3}),a.jsxs("div",{className:"relative aspect-video bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:[a.jsx("img",{src:i(c.image),alt:"Guess the word",className:"max-h-full max-w-full object-contain"}),a.jsx(v,{size:"icon",onClick:L,className:"absolute top-3 right-3 rounded-full bg-black/50 hover:bg-black/70",children:a.jsx($,{className:"h-6 w-6 text-white"})}),a.jsx("audio",{ref:f,src:i(c.sound),preload:"auto"})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 max-[200px]:grid-cols-1 gap-3 pt-4",children:n.map(g=>{const t=h===g,O=g===c.solution;return a.jsxs(v,{onClick:()=>l(g),disabled:s==="correct",className:w("text-base h-16 flex items-center justify-center gap-2 transition-all duration-300",t&&s==="correct"&&"bg-green-500 hover:bg-green-600 border-2 border-green-700",t&&s==="incorrect"&&"bg-red-500 hover:bg-red-500 border-2 border-red-700",!t&&s==="incorrect"&&O&&"bg-green-200 text-green-800 border-2 border-green-400",s==="idle"&&"bg-card text-card-foreground hover:bg-muted"),children:[g,t&&s==="correct"&&a.jsx(W,{}),t&&s==="incorrect"&&a.jsx(z,{})]},g)})}),s==="correct"&&a.jsx("div",{className:"pt-4",children:a.jsxs(v,{onClick:m,className:"w-full bg-green-600 hover:bg-green-700 text-lg py-6",children:[o.next," ",u==="rtl"?a.jsx(D,{className:"ml-2"}):a.jsx(b,{className:"ml-2"})]})})]})};export{Q as default};
