import{h as j,u as L,b as N,r as t,j as u}from"./index-D_RCuTDe.js";import{a as w,s as A,N as G}from"./Notification-CMDvgHhj.js";import{G as O}from"./GameLayout-D2-LO-Eo.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M=j("circle-x",R);function P(o){const a=L(),{language:d,categories:f,gameMode:c,gameType:n}=N(),{loading:h,currentLevel:s,nextLevel:y}=w(o,{language:d,categories:f}),[x,k]=t.useState([]),[v,g]=t.useState(null),[p,i]=t.useState("idle"),m=t.useRef(null),l=t.useRef(null),S=e=>`${"/PowerLetter-for-Puzzles".replace(/\/$/,"")}/${e.replace(/^\//,"")}`,b=t.useCallback(()=>{const e=m.current;if(e)try{e.currentTime=0,e.play().catch(r=>console.error("Audio play failed:",r))}catch(r){console.error("Audio control failed:",r)}},[]),C=t.useCallback(e=>{!s||p==="correct"||(g(e),e===s.solution?i("correct"):(i("incorrect"),l.current=window.setTimeout(()=>i("idle"),1200)))},[p,s]),T=t.useCallback(()=>{a(c==="competitive"?`/team-config/${n}`:"/games")},[a,c,n]);return t.useEffect(()=>{s&&(k(A([...s.options])),i("idle"),g(null))},[s]),t.useEffect(()=>{const e=m.current;return()=>{if(l.current&&(clearTimeout(l.current),l.current=null),e)try{e.pause(),e.currentTime=0}catch(r){console.error("Failed to pause/reset audio during cleanup",r)}}},[s]),{loading:h,currentLevel:s,shuffledOptions:x,answerStatus:p,selectedOption:v,audioRef:m,getAssetPath:S,playSound:b,handleOptionClick:C,nextLevel:y,handleBack:T}}const U=({notificationMessage:o,notificationType:a="info",promptContent:d,optionsContent:f,nextButtonContent:c,...n})=>u.jsxs(O,{...n,layoutType:"image",children:[o&&u.jsx(G,{message:o,type:a,duration:1e3}),d,u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 pt-4",children:f}),c&&u.jsx("div",{className:"pt-4",children:c})]});export{M as C,U as M,P as u};
